<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 9.0.0 (0)
 -->
<!-- Title: MiraiCP::MessageChain Pages: 1 -->
<svg width="356pt" height="1140pt"
 viewBox="0.00 0.00 355.50 1140.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1136)">
<title>MiraiCP::MessageChain</title>
<!-- Node1 -->
<g id="Node000001" class="node">
<title>Node1</title>
<g id="a_Node000001"><a xlink:title="消息链, 一般由SingleMessage组成">
<polygon fill="#999999" stroke="none" points="253.5,-992 97.5,-992 97.5,0 253.5,0 253.5,-992"/>
<text text-anchor="start" x="122.25" y="-978.5" font-family="Helvetica,sans-Serif" font-size="10.00">MiraiCP::MessageChain</text>
<text text-anchor="start" x="174" y="-962.5" font-family="Helvetica,sans-Serif" font-size="10.00"> </text>
<text text-anchor="start" x="101.5" y="-946.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-946.5" font-family="Helvetica,sans-Serif" font-size="10.00">MessageChain(const</text>
<text text-anchor="start" x="111.5" y="-934.5" font-family="Helvetica,sans-Serif" font-size="10.00"> MessageChain &amp;_o)=default</text>
<text text-anchor="start" x="101.5" y="-918.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-918.5" font-family="Helvetica,sans-Serif" font-size="10.00">MessageChain(MessageChain</text>
<text text-anchor="start" x="111.5" y="-906.5" font-family="Helvetica,sans-Serif" font-size="10.00"> &amp;&amp;_o)=default</text>
<text text-anchor="start" x="101.5" y="-890.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-890.5" font-family="Helvetica,sans-Serif" font-size="10.00">MessageChain()=default</text>
<text text-anchor="start" x="101.5" y="-874.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-874.5" font-family="Helvetica,sans-Serif" font-size="10.00">~MessageChain() override</text>
<text text-anchor="start" x="111.5" y="-862.5" font-family="Helvetica,sans-Serif" font-size="10.00">=default</text>
<text text-anchor="start" x="101.5" y="-846.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-846.5" font-family="Helvetica,sans-Serif" font-size="10.00">MessageChain(T &amp;&amp;...args)</text>
<text text-anchor="start" x="101.5" y="-830.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-830.5" font-family="Helvetica,sans-Serif" font-size="10.00">MessageChain(MessageSource</text>
<text text-anchor="start" x="111.5" y="-818.5" font-family="Helvetica,sans-Serif" font-size="10.00"> ms, T &amp;&amp;...args)</text>
<text text-anchor="start" x="101.5" y="-802.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-802.5" font-family="Helvetica,sans-Serif" font-size="10.00">std::string toMiraiCode</text>
<text text-anchor="start" x="111.5" y="-790.5" font-family="Helvetica,sans-Serif" font-size="10.00">() const override</text>
<text text-anchor="start" x="101.5" y="-774.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-774.5" font-family="Helvetica,sans-Serif" font-size="10.00">std::vector&lt; std::string</text>
<text text-anchor="start" x="111.5" y="-762.5" font-family="Helvetica,sans-Serif" font-size="10.00"> &gt; toMiraiCodeVector() const</text>
<text text-anchor="start" x="101.5" y="-746.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-746.5" font-family="Helvetica,sans-Serif" font-size="10.00">nlohmann::json toJson</text>
<text text-anchor="start" x="111.5" y="-734.5" font-family="Helvetica,sans-Serif" font-size="10.00">() const</text>
<text text-anchor="start" x="101.5" y="-718.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-718.5" font-family="Helvetica,sans-Serif" font-size="10.00">std::string toString</text>
<text text-anchor="start" x="111.5" y="-706.5" font-family="Helvetica,sans-Serif" font-size="10.00">() const</text>
<text text-anchor="start" x="101.5" y="-690.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-690.5" font-family="Helvetica,sans-Serif" font-size="10.00">void add(T &amp;&amp;a)</text>
<text text-anchor="start" x="101.5" y="-674.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-674.5" font-family="Helvetica,sans-Serif" font-size="10.00">void add(MessageSource val)</text>
<text text-anchor="start" x="101.5" y="-658.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-658.5" font-family="Helvetica,sans-Serif" font-size="10.00">std::vector&lt; T &gt; filter</text>
<text text-anchor="start" x="111.5" y="-646.5" font-family="Helvetica,sans-Serif" font-size="10.00">() const</text>
<text text-anchor="start" x="101.5" y="-630.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-630.5" font-family="Helvetica,sans-Serif" font-size="10.00">std::vector&lt; T &gt; filter</text>
<text text-anchor="start" x="111.5" y="-618.5" font-family="Helvetica,sans-Serif" font-size="10.00">(const std::function&lt;</text>
<text text-anchor="start" x="111.5" y="-606.5" font-family="Helvetica,sans-Serif" font-size="10.00"> bool(const Message &amp;)&gt;</text>
<text text-anchor="start" x="111.5" y="-594.5" font-family="Helvetica,sans-Serif" font-size="10.00"> &amp;func) const</text>
<text text-anchor="start" x="101.5" y="-578.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-578.5" font-family="Helvetica,sans-Serif" font-size="10.00">std::optional&lt; T &gt;</text>
<text text-anchor="start" x="111.5" y="-566.5" font-family="Helvetica,sans-Serif" font-size="10.00"> first() const</text>
<text text-anchor="start" x="101.5" y="-550.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-550.5" font-family="Helvetica,sans-Serif" font-size="10.00">MessageChain plus(const</text>
<text text-anchor="start" x="111.5" y="-538.5" font-family="Helvetica,sans-Serif" font-size="10.00"> T &amp;a) const</text>
<text text-anchor="start" x="101.5" y="-522.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-522.5" font-family="Helvetica,sans-Serif" font-size="10.00">MessageChain plus(const</text>
<text text-anchor="start" x="111.5" y="-510.5" font-family="Helvetica,sans-Serif" font-size="10.00"> MessageChain &amp;mc) const</text>
<text text-anchor="start" x="101.5" y="-494.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-494.5" font-family="Helvetica,sans-Serif" font-size="10.00">MessageChain plus(const</text>
<text text-anchor="start" x="111.5" y="-482.5" font-family="Helvetica,sans-Serif" font-size="10.00"> MessageSource &amp;ms) const</text>
<text text-anchor="start" x="101.5" y="-466.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-466.5" font-family="Helvetica,sans-Serif" font-size="10.00">MessageChain operator</text>
<text text-anchor="start" x="111.5" y="-454.5" font-family="Helvetica,sans-Serif" font-size="10.00">+(const T &amp;msg) const</text>
<text text-anchor="start" x="101.5" y="-438.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-438.5" font-family="Helvetica,sans-Serif" font-size="10.00">bool operator==(const</text>
<text text-anchor="start" x="111.5" y="-426.5" font-family="Helvetica,sans-Serif" font-size="10.00"> MessageChain &amp;mc) const</text>
<text text-anchor="start" x="101.5" y="-410.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-410.5" font-family="Helvetica,sans-Serif" font-size="10.00">bool operator!=(const</text>
<text text-anchor="start" x="111.5" y="-398.5" font-family="Helvetica,sans-Serif" font-size="10.00"> MessageChain &amp;mc) const</text>
<text text-anchor="start" x="101.5" y="-382.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-382.5" font-family="Helvetica,sans-Serif" font-size="10.00">bool empty() const</text>
<text text-anchor="start" x="101.5" y="-366.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-366.5" font-family="Helvetica,sans-Serif" font-size="10.00">static size_t findEnd</text>
<text text-anchor="start" x="111.5" y="-354.5" font-family="Helvetica,sans-Serif" font-size="10.00">(const std::string &amp;s,</text>
<text text-anchor="start" x="111.5" y="-342.5" font-family="Helvetica,sans-Serif" font-size="10.00"> size_t start)</text>
<text text-anchor="start" x="101.5" y="-326.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-326.5" font-family="Helvetica,sans-Serif" font-size="10.00">static MessageChain</text>
<text text-anchor="start" x="111.5" y="-314.5" font-family="Helvetica,sans-Serif" font-size="10.00"> deserializationFromMiraiCode</text>
<text text-anchor="start" x="111.5" y="-302.5" font-family="Helvetica,sans-Serif" font-size="10.00">(const std::string &amp;m)</text>
<text text-anchor="start" x="101.5" y="-286.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-286.5" font-family="Helvetica,sans-Serif" font-size="10.00">static MessageChain</text>
<text text-anchor="start" x="111.5" y="-274.5" font-family="Helvetica,sans-Serif" font-size="10.00"> deserializationFromMessage</text>
<text text-anchor="start" x="111.5" y="-262.5" font-family="Helvetica,sans-Serif" font-size="10.00">SourceJson(const std::string</text>
<text text-anchor="start" x="111.5" y="-250.5" font-family="Helvetica,sans-Serif" font-size="10.00"> &amp;msg, bool origin=true)</text>
<text text-anchor="start" x="101.5" y="-234.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-234.5" font-family="Helvetica,sans-Serif" font-size="10.00">static MessageChain</text>
<text text-anchor="start" x="111.5" y="-222.5" font-family="Helvetica,sans-Serif" font-size="10.00"> deserializationFromMessage</text>
<text text-anchor="start" x="111.5" y="-210.5" font-family="Helvetica,sans-Serif" font-size="10.00">SourceJson(nlohmann::json</text>
<text text-anchor="start" x="111.5" y="-198.5" font-family="Helvetica,sans-Serif" font-size="10.00"> j, bool origin=true)</text>
<text text-anchor="start" x="101.5" y="-182.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="111.5" y="-182.5" font-family="Helvetica,sans-Serif" font-size="10.00">static MessageChain</text>
<text text-anchor="start" x="111.5" y="-170.5" font-family="Helvetica,sans-Serif" font-size="10.00"> deserializationFromMessage</text>
<text text-anchor="start" x="111.5" y="-158.5" font-family="Helvetica,sans-Serif" font-size="10.00">Json(const nlohmann::json &amp;j)</text>
<text text-anchor="start" x="103" y="-142.5" font-family="Helvetica,sans-Serif" font-size="10.00">&#45;</text>
<text text-anchor="start" x="111.5" y="-142.5" font-family="Helvetica,sans-Serif" font-size="10.00">void constructMessages()</text>
<text text-anchor="start" x="103" y="-126.5" font-family="Helvetica,sans-Serif" font-size="10.00">&#45;</text>
<text text-anchor="start" x="111.5" y="-126.5" font-family="Helvetica,sans-Serif" font-size="10.00">void constructMessages</text>
<text text-anchor="start" x="111.5" y="-114.5" font-family="Helvetica,sans-Serif" font-size="10.00">(T1 &amp;&amp;h, T2 &amp;&amp;...args)</text>
<text text-anchor="start" x="103" y="-98.5" font-family="Helvetica,sans-Serif" font-size="10.00">&#45;</text>
<text text-anchor="start" x="111.5" y="-98.5" font-family="Helvetica,sans-Serif" font-size="10.00">void constructMessages</text>
<text text-anchor="start" x="111.5" y="-86.5" font-family="Helvetica,sans-Serif" font-size="10.00">(std::string h, T2 &amp;&amp;...args)</text>
<text text-anchor="start" x="103" y="-70.5" font-family="Helvetica,sans-Serif" font-size="10.00">&#45;</text>
<text text-anchor="start" x="111.5" y="-70.5" font-family="Helvetica,sans-Serif" font-size="10.00">void constructMessages</text>
<text text-anchor="start" x="111.5" y="-58.5" font-family="Helvetica,sans-Serif" font-size="10.00">(const MessageChain &amp;mc,</text>
<text text-anchor="start" x="111.5" y="-46.5" font-family="Helvetica,sans-Serif" font-size="10.00"> T &amp;&amp;...args)</text>
<text text-anchor="start" x="103" y="-30.5" font-family="Helvetica,sans-Serif" font-size="10.00">&#45;</text>
<text text-anchor="start" x="111.5" y="-30.5" font-family="Helvetica,sans-Serif" font-size="10.00">void constructMessages</text>
<text text-anchor="start" x="111.5" y="-18.5" font-family="Helvetica,sans-Serif" font-size="10.00">(const MiraiCode &amp;m, T</text>
<text text-anchor="start" x="111.5" y="-6.5" font-family="Helvetica,sans-Serif" font-size="10.00"> &amp;&amp;...args)</text>
<polygon fill="#666666" stroke="#666666" points="97.5,-974 97.5,-974 253.5,-974 253.5,-974 97.5,-974"/>
<polygon fill="#666666" stroke="#666666" points="97.5,-958 97.5,-958 253.5,-958 253.5,-958 97.5,-958"/>
<polygon fill="none" stroke="#666666" points="97.5,0 97.5,-992 253.5,-992 253.5,0 97.5,0"/>
</a>
</g>
</g>
<!-- Node2 -->
<g id="Node000002" class="node">
<title>Node2</title>
<g id="a_Node000002"><a xlink:title=" ">
<polygon fill="white" stroke="none" points="97,-1118 0,-1118 0,-1054 97,-1054 97,-1118"/>
<text text-anchor="start" x="5" y="-1104.5" font-family="Helvetica,sans-Serif" font-size="10.00">std::vector&lt; internal</text>
<text text-anchor="start" x="21.12" y="-1092.5" font-family="Helvetica,sans-Serif" font-size="10.00">::Message &gt;</text>
<text text-anchor="start" x="47" y="-1076.5" font-family="Helvetica,sans-Serif" font-size="10.00"> </text>
<text text-anchor="start" x="47" y="-1060.5" font-family="Helvetica,sans-Serif" font-size="10.00"> </text>
<polygon fill="#666666" stroke="#666666" points="0,-1088 0,-1088 97,-1088 97,-1088 0,-1088"/>
<polygon fill="#666666" stroke="#666666" points="0,-1072 0,-1072 97,-1072 97,-1072 0,-1072"/>
<polygon fill="none" stroke="#666666" points="0,-1054 0,-1118 97,-1118 97,-1054 0,-1054"/>
</a>
</g>
</g>
<!-- Node2&#45;&gt;Node1 -->
<g id="edge1_Node000001_Node000002" class="edge">
<title>Node2&#45;&gt;Node1</title>
<g id="a_edge1_Node000001_Node000002"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M57.54,-1043.16C66.56,-1001.37 81.38,-932.75 97.52,-858.03"/>
<polygon fill="none" stroke="#63b8ff" points="54.16,-1042.22 55.47,-1052.74 61,-1043.7 54.16,-1042.22"/>
</a>
</g>
</g>
<!-- Node3 -->
<g id="Node000003" class="node">
<title>Node3</title>
<g id="a_Node000003"><a xlink:href="a00660.html" target="_top" xlink:title="MiraiCode父类, 指可以被转换成miraicode的类型">
<polygon fill="white" stroke="none" points="235.5,-1132 115.5,-1132 115.5,-1040 235.5,-1040 235.5,-1132"/>
<text text-anchor="start" x="123.75" y="-1118.5" font-family="Helvetica,sans-Serif" font-size="10.00">MiraiCP::MiraiCodeable</text>
<text text-anchor="start" x="174" y="-1102.5" font-family="Helvetica,sans-Serif" font-size="10.00"> </text>
<text text-anchor="start" x="119.5" y="-1086.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="129.5" y="-1086.5" font-family="Helvetica,sans-Serif" font-size="10.00">virtual std::string</text>
<text text-anchor="start" x="129.5" y="-1074.5" font-family="Helvetica,sans-Serif" font-size="10.00"> toMiraiCode() const =0</text>
<text text-anchor="start" x="119.5" y="-1058.5" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="129.5" y="-1058.5" font-family="Helvetica,sans-Serif" font-size="10.00">virtual ~MiraiCodeable</text>
<text text-anchor="start" x="129.5" y="-1046.5" font-family="Helvetica,sans-Serif" font-size="10.00">()=default</text>
<polygon fill="#666666" stroke="#666666" points="115.5,-1114 115.5,-1114 235.5,-1114 235.5,-1114 115.5,-1114"/>
<polygon fill="#666666" stroke="#666666" points="115.5,-1098 115.5,-1098 235.5,-1098 235.5,-1098 115.5,-1098"/>
<polygon fill="none" stroke="#666666" points="115.5,-1040 115.5,-1132 235.5,-1132 235.5,-1040 115.5,-1040"/>
</a>
</g>
</g>
<!-- Node3&#45;&gt;Node1 -->
<g id="edge2_Node000001_Node000003" class="edge">
<title>Node3&#45;&gt;Node1</title>
<g id="a_edge2_Node000001_Node000003"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M175.5,-1028.88C175.5,-1017.83 175.5,-1005.45 175.5,-991.98"/>
<polygon fill="none" stroke="#63b8ff" points="172,-1028.81 175.5,-1038.81 179,-1028.81 172,-1028.81"/>
</a>
</g>
</g>
<!-- Node4 -->
<g id="Node000004" class="node">
<title>Node4</title>
<g id="a_Node000004"><a xlink:title=" ">
<polygon fill="white" stroke="none" points="347.5,-1118 253.5,-1118 253.5,-1054 347.5,-1054 347.5,-1118"/>
<text text-anchor="start" x="258.5" y="-1104.5" font-family="Helvetica,sans-Serif" font-size="10.00">optional&lt; MiraiCP::</text>
<text text-anchor="start" x="260.75" y="-1092.5" font-family="Helvetica,sans-Serif" font-size="10.00">MessageSource &gt;</text>
<text text-anchor="start" x="299" y="-1076.5" font-family="Helvetica,sans-Serif" font-size="10.00"> </text>
<text text-anchor="start" x="299" y="-1060.5" font-family="Helvetica,sans-Serif" font-size="10.00"> </text>
<polygon fill="#666666" stroke="#666666" points="253.5,-1088 253.5,-1088 347.5,-1088 347.5,-1088 253.5,-1088"/>
<polygon fill="#666666" stroke="#666666" points="253.5,-1072 253.5,-1072 347.5,-1072 347.5,-1072 253.5,-1072"/>
<polygon fill="none" stroke="#666666" points="253.5,-1054 253.5,-1118 347.5,-1118 347.5,-1054 253.5,-1054"/>
</a>
</g>
</g>
<!-- Node4&#45;&gt;Node1 -->
<g id="edge3_Node000001_Node000004" class="edge">
<title>Node4&#45;&gt;Node1</title>
<g id="a_edge3_Node000001_Node000004"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M293.96,-1054.21C286.09,-1017.23 271.96,-950.77 256.14,-876.32"/>
<polygon fill="none" stroke="#63b8ff" points="256.16,-876.44 251,-871.4 253.67,-864.7 258.83,-869.74 256.16,-876.44"/>
</a>
</g>
<text text-anchor="middle" x="303.62" y="-1012.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="grey"> +source</text>
</g>
</g>
</svg>
